<!DOCTYPE html>
<html lang="fr">

<head>
	<meta charset="utf-8" />
	<title>4 - Super curseur personnalisé avec CSS et JavaScript - V2</title>

	<!-- Ajustement de la taille du viewport-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<!-- Importation des feuilles de style-->
	<link rel="stylesheet" href="css/styles.css" />
	<link rel="stylesheet" href="css/curseur-perso-js-v2.css" />
</head>

<body>
	<header>
		<h2>Super curseur personnalisé avec CSS et JavaScript et effet d'accélération</h2>
	</header>
	<section>
		<img src="images/arriere-plan.jpg" />
	</section>

	<footer>
		Outre le pseudo-élément pour l'aspect cosmétique, les principales propriété CSS utilisées sont:
		<code>
			cursor:none, position:fixed, transform:translate(calc(...), calc(...)), z-index:500, pointer-events:none, will-change:
			transform et variables CSS globales --mouse-x et --mouse-y modifiées avec JavaScript.
		</code>
	</footer>

	<div class="curseur"></div>

	<script>
		const curseur = document.querySelector(".curseur");

		document.body.addEventListener("mousemove",
			evt => curseur.style.translate = `${evt.clientX}px ${evt.clientY}px`
		);

		// EXTRA !
		// Quand on survol n'importe quelle image de la page Web, on cache le curseur perso
		//  et quand on ne survol plus les images, on réaffiche le curseur perso..
		const images = document.querySelectorAll("img");
		images.forEach(
			image => {
				image.addEventListener("mouseover", () => curseur.classList.add("cacher"));
				image.addEventListener("mouseout", () => curseur.classList.remove("cacher"));
			}
		);
	</script>
</body>

</html>